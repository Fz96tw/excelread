import requests

SITE_ID = "cloudcurio.sharepoint.com,eb235850-d56c-4b42-9d05-71e84a2c56c3,4aedacc5-8071-414c-b10a-b40c4fc57048"
ACCESS_TOKEN = "eyJ0eXAiOiJKV1QiLCJub25jZSI6Im5obzJ2ajR4QzZXeDFmYm40cEctb0xUYmo4NXRwMm00bENtcjA1dmxwYm8iLCJhbGciOiJSUzI1NiIsIng1dCI6IkpZaEFjVFBNWl9MWDZEQmxPV1E3SG4wTmVYRSIsImtpZCI6IkpZaEFjVFBNWl9MWDZEQmxPV1E3SG4wTmVYRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC84ZjAzMTU1NS00ZWRjLTRlODItOGU3NS0xMDZkZDA0NDVjZWMvIiwiaWF0IjoxNzU1MTA5Mjc3LCJuYmYiOjE3NTUxMDkyNzcsImV4cCI6MTc1NTExNDAxMCwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsicDEiXSwiYWlvIjoiQVpRQWEvOFpBQUFBSkdQeHJtSUcwMVIzektQcmNHMjdrUmV2eWs0Nkp0U2Y2ajBnVGt4TWowVFdBT3dKK0l5NEFObnBOcUthYzJLNTJVWVQ1OG9OM0FuVEpwaXdrUlRJQnZBb3d1bzJFVExNZUw3VnE4b2lERnlRUEUrVEFjRXJReC9sU2tlL3ZGMTJXZHcrYXFUVnIzdy9FYk9NMlRxK2xTWnRxTVVQbHFmS0ZCaWNGUnNPNjlyaGJaRnczcDhrTTRVWktjUHZvcjZtIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJQeXRob25FeGNlbEFwcCIsImFwcGlkIjoiNjU3NzllZGQtYjYwOS00ZTZlLWEwMDYtNjE3NzZkNjExMmExIiwiYXBwaWRhY3IiOiIxIiwiZmFtaWx5X25hbWUiOiJIYWlkZXIiLCJnaXZlbl9uYW1lIjoiTmFkZWVtIiwiaWR0eXAiOiJ1c2VyIiwiaXBhZGRyIjoiMTAyLjEyOS4xNTMuMTEwIiwibmFtZSI6Ik5hZGVlbSBIYWlkZXIiLCJvaWQiOiI5MWI5OWE2Yy1kMDE4LTQ3YjgtODViOS02OGIyYWE1MmQzNWEiLCJwbGF0ZiI6IjMiLCJwdWlkIjoiMTAwMzIwMDUwMTZFMzc5NCIsInJoIjoiMS5BWEVCVlJVRGo5eE9nazZPZFJCdDBFUmM3QU1BQUFBQUFBQUF3QUFBQUFBQUFBRFlBUTF4QVEuIiwic2NwIjoiRmlsZXMuUmVhZFdyaXRlLkFsbCBTaXRlcy5SZWFkV3JpdGUuQWxsIHByb2ZpbGUgb3BlbmlkIGVtYWlsIiwic2lkIjoiMDA3YmVlYTktOWFlZC0wY2ZkLTljMjAtMTU1NGJjNWE2OTIyIiwic2lnbmluX3N0YXRlIjpbImttc2kiXSwic3ViIjoiS1BNTDlydWt1RkdQZnhaaGJWOVhqQ09ZQnpsMnZhSnJ4blh6dEtMbjFBNCIsInRlbmFudF9yZWdpb25fc2NvcGUiOiJOQSIsInRpZCI6IjhmMDMxNTU1LTRlZGMtNGU4Mi04ZTc1LTEwNmRkMDQ0NWNlYyIsInVuaXF1ZV9uYW1lIjoibmFkZWVtLmhhaWRlckBjbG91ZGN1cmlvLm9ubWljcm9zb2Z0LmNvbSIsInVwbiI6Im5hZGVlbS5oYWlkZXJAY2xvdWRjdXJpby5vbm1pY3Jvc29mdC5jb20iLCJ1dGkiOiJDdklHTGRSQ2lVQ243aHBfV2lrVkFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyI2MmU5MDM5NC02OWY1LTQyMzctOTE5MC0wMTIxNzcxNDVlMTAiLCJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2Z0ZCI6Ilk4V1g4YTZVVkFQSlJVbk5EeWxOdXVseFROczFUZXg5R3luRF9LaEpKUjBCZFhObFlYTjBMV1J6YlhNIiwieG1zX2lkcmVsIjoiMSAyNiIsInhtc19zdCI6eyJzdWIiOiJwVzJWNEQ3MjdUQlFuZlNWcG5pMDc1TnJiUGpzeTBoaGhQLXZKc1BaVE5BIn0sInhtc190Y2R0IjoxNzU0ODY3ODM0fQ.HLPYyU--om1w8Eklx0esars1NiCJQFJgd1DhsZ7qhG0yQftfdWKaniw52I7Pe-Rv4Cx74WNMciP_78LsaDsoJy7gCdIvcZbuSWjA_hRFvXpToSxYc4N3AdvmrLkDpaajhhWdCQwiAY9bTcQfNPDTl62e1eMzjCKj_7jNa7-WRgU5yut1dnBeHw-64udtzZEjzs_vzMl7R2z5o9oIxYRh1IO_7ZFG7FSlHFw3zA_9BwjTXw0cxEvlbIkSlqXE8h1t3kzwPb0O8PlhO0jIc1vTshk4U85MdqyAapVZ-6BOvAB0oMDbloxNH1zsaQoW2NgxUc5jRUFtb5K5_K9XXZ12XQ"
            

headers = {
    "Authorization": f"Bearer {ACCESS_TOKEN}"
}

# List root folder contents
url = f"https://graph.microsoft.com/v1.0/sites/{SITE_ID}/drive/root/children"
r = requests.get(url, headers=headers)

if r.status_code == 200:
    items = r.json().get("value", [])
    for item in items:  # assuming 'items' is your list of dictionaries
        name = item.get("name", "<Unnamed>")
        is_folder = item.get("folder", False)
        item_type = "(Folder)" if is_folder else "(File)"
        print(name, item_type)

else:
    print("Error:", r.status_code, r.text)
